{% extends "layout.html" %}

{% block title %}
    Tasks
{% endblock %}

{% block main %}

    {% if tasks %}
        <p> Your current tasks </p>
        <table>
            <tr>
                <th>Task</th>
                <th>Description</th>
                <th>Created</th>
                <th>Deadline</th>
                <th>Assigned by</th>
                <th>Project</th>
                <th>Status</th>
            </tr>
            {% for task in tasks %}
                <tr>
                    <td> {{task.name}} </td>
                    <td> {{task.description}} </td>
                    <td> {{task.created}} </td>
                    <td> {{task.deadline}} </td>
                    <td> {{task.assigned_by}} </td>
                    <td> {{task.project}} </td>
                    <td> {{task.status}} </td>
                </tr>
            {% endfor %}
        </table>
    {% else %}
        You have no active tasks!
    {% endif %}

    {% if assigned_tasks %}
        <p> Tasks you have assigned </p>
        <table>
            <tr>
                <th>Task</th>
                <th>Description</th>
                <th>Created</th>
                <th>Deadline</th>
                <th>Status</th>
                <th>Employee</th>
            </tr>
            {% for task in assigned_tasks %}
                <tr>
                    <td> {{task.name}} </td>
                    <td> {{task.description}} </td>
                    <td> {{task.created}} </td>
                    <td> {{task.deadline}} </td>
                    <td> {{task.status}} </td>
                    <td> {{task.employee}} </td>
                </tr>
            {% endfor %}
        </table>
    {% endif %}

    {% if taskmaster %}
        <a href="/tasks/create_task">Create a new task</a>
        <a href="/tasks/change_tasks">Modify existing tasks</a>
    {% endif %}

{% endblock %}